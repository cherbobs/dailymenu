document.addEventListener("DOMContentLoaded",()=>{fetch("navbar.html").then(e=>e.text()).then(e=>{document.getElementById("navbar-container").innerHTML=e;const s=window.location.pathname.split("/").pop(),o=document.querySelectorAll(".nav-links a");o.forEach(e=>{const t=e.getAttribute("href");t===s||s===""&&t==="index.html"?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")});const t=document.getElementById("burger-menu"),n=document.getElementById("mobile-menu-container");if(t&&n){t.addEventListener("click",()=>{n.classList.toggle("active"),t.classList.toggle("active")});const e=n.querySelectorAll("a");e.forEach(e=>{e.addEventListener("click",()=>{n.classList.remove("active"),t.classList.remove("active")})})}}).catch(e=>{console.error("Erreur lors du chargement de la navbar :",e)});const t=document.getElementById("toggleBtn2"),s=document.documentElement;function o(e){e?(s.classList.add("dyslexic-mode"),t?.classList.add("active"),t?.setAttribute("aria-checked","true"),localStorage.setItem("dyslexic","true")):(s.classList.remove("dyslexic-mode"),t?.classList.remove("active"),t?.setAttribute("aria-checked","false"),localStorage.setItem("dyslexic","false"))}const r=localStorage.getItem("dyslexic")==="true";o(r),t?.addEventListener("click",()=>{const e=t.classList.contains("active");o(!e)});const e=document.getElementById("slider");function c(e){document.documentElement.style.fontSize=`${e}px`,localStorage.setItem("fontSize",e)}function i(t){const n=parseInt(e?.min),o=parseInt(e?.max),s=(t-n)/(o-n)*100;e&&(e.style.background=`linear-gradient(to right, orange ${s}%, #ccc ${s}%)`)}const n=parseInt(localStorage.getItem("fontSize"))||16;document.documentElement.style.fontSize=`${n}px`,e&&(e.max="36",e.value=n,i(n));let a;e?.addEventListener("input",()=>{const t=e.value;i(t),clearTimeout(a),a=setTimeout(()=>{c(t)},300)})})