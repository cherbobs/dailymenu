document.addEventListener("DOMContentLoaded",()=>{fetch("navbar.html").then(e=>e.text()).then(e=>{document.getElementById("navbar-container").innerHTML=e;const s=window.location.pathname.split("/").pop(),o=document.querySelectorAll(".nav-links a");o.forEach(e=>{const t=e.getAttribute("href");t===s||s===""&&t==="index.html"?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")});const t=document.getElementById("burger-menu"),n=document.getElementById("mobile-menu-container");if(t&&n){t.addEventListener("click",()=>{n.classList.toggle("active"),t.classList.toggle("active")});const e=n.querySelectorAll("a");e.forEach(e=>{e.addEventListener("click",()=>{n.classList.remove("active"),t.classList.remove("active")})})}else console.error("Éléments du menu mobile non trouvés")}).catch(e=>{console.error("Erreur lors du chargement de la navbar :",e)});const t=document.getElementById("toggleBtn2"),a=document.documentElement;function r(e){if(!t)return;e?(a.classList.add("dyslexic-mode"),t.classList.add("active"),t.setAttribute("aria-checked","true"),localStorage.setItem("dyslexic","true")):(a.classList.remove("dyslexic-mode"),t.classList.remove("active"),t.setAttribute("aria-checked","false"),localStorage.setItem("dyslexic","false"))}const c=localStorage.getItem("dyslexic")==="true";r(c),t&&t.addEventListener("click",()=>{const e=t.classList.contains("active");r(!e)});const e=document.getElementById("slider"),s=document.getElementById("text"),o=document.getElementById("value");function i(t){if(!e)return;const n=e.min,o=e.max,s=(t-n)/(o-n)*100;e.style.background=`linear-gradient(to right, orange ${s}%, #ccc ${s}%)`}const n=localStorage.getItem("fontSize");e&&s&&o&&(n?(e.value=n,s.style.fontSize=n+"px",o.textContent=n+" px",i(n)):i(e.value),e.addEventListener("input",()=>{const t=e.value;s.style.fontSize=t+"px",o.textContent=t+" px",localStorage.setItem("fontSize",t),i(t)}))})