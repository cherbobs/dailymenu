<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu de la semaine</title>
    <meta
      name="keywords"
      content="cantine scolaire, menus cantine, repas scolaires, menus équilibrés, nutrition enfants, allergènes repas"
    />
    <link rel="icon" href="./favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./assets/css/global.css" />
  </head>
  <body>
    <div id="navbar-container"></div>
    <main>
      <!-- SECTION INTRO -->
      <section class="intro">
        <nav aria-label="Fil d’Ariane">
          <ol class="breadcrumb">
            <li>
              <a href="index.html">Page d'accueil</a>
              <span class="separator" aria-hidden="true">›</span>
            </li>
            <li aria-current="page">Menu de la semaine</li>
          </ol>
        </nav>
        <h1>Menu de la semaine</h1>
        <a href="#" id="download-menu">Télécharger le menu de la semaine</a>
      </section>

      <section class="weekly-menu">
        <div class="menu-date-section">
          <h2 class="date">Lundi 26 mai</h2>
          <div class="menu-section">
            <div class="menu-block">
              <h3>Déjeuner</h3>
              <ul class="menu-list">
                <li>
                  <img src="./assets/images/entrée.png" alt="" class="icon" />
                  <div>
                    <h4>Betteraves cuites et sa vinaigrette balsamique</h4>
                    <p class="allergenes">SULFITES</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/plat.png" alt="" class="icon" />
                  <div>
                    <h4>Lasagnes aux légumes</h4>
                    <p class="allergenes">
                      GLUTEN, LAIT (LACTOSE), MOUTARDE, ŒUF, SOJA
                    </p>
                  </div>
                </li>
                <li>
                  <img
                    src="./assets/images/produits laitiers.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Saint Paulin</h4>
                    <p class="allergenes">LAIT (LACTOSE)</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/dessert.png" alt="" class="icon" />
                  <div>
                    <h4>Compote de pommes fraise</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/pain.png" alt="" class="icon" />
                  <div>
                    <h4>Pain</h4>
                    <p class="allergenes">GLUTEN</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="menu-block">
              <h3>Goûter</h3>
              <ul class="menu-list">
                <li>
                  <img
                    src="./assets/images/patisseries.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Brioche tranchée au chocolat aux noisettes</h4>
                    <p class="allergenes">
                      FRUITS À COQUE, GLUTEN, LAIT (LACTOSE), ŒUF
                    </p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/fruit.png" alt="" class="icon" />
                  <div>
                    <h4>Pomme rouge bio</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="menu-date-section">
          <h2 class="date">Lundi 26 mai</h2>
          <div class="menu-section">
            <div class="menu-block">
              <h3>Déjeuner</h3>
              <ul class="menu-list">
                <li>
                  <img src="./assets/images/entrée.png" alt="" class="icon" />
                  <div>
                    <h4>Betteraves cuites et sa vinaigrette balsamique</h4>
                    <p class="allergenes">SULFITES</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/plat.png" alt="" class="icon" />
                  <div>
                    <h4>Lasagnes aux légumes</h4>
                    <p class="allergenes">
                      GLUTEN, LAIT (LACTOSE), MOUTARDE, ŒUF, SOJA
                    </p>
                  </div>
                </li>
                <li>
                  <img
                    src="./assets/images/produits laitiers.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Saint Paulin</h4>
                    <p class="allergenes">LAIT (LACTOSE)</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/dessert.png" alt="" class="icon" />
                  <div>
                    <h4>Compote de pommes fraise</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/pain.png" alt="" class="icon" />
                  <div>
                    <h4>Pain</h4>
                    <p class="allergenes">GLUTEN</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="menu-block">
              <h3>Goûter</h3>
              <ul class="menu-list">
                <li>
                  <img
                    src="./assets/images/patisseries.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Brioche tranchée au chocolat aux noisettes</h4>
                    <p class="allergenes">
                      FRUITS À COQUE, GLUTEN, LAIT (LACTOSE), ŒUF
                    </p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/fruit.png" alt="" class="icon" />
                  <div>
                    <h4>Pomme rouge bio</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="menu-date-section">
          <h2 class="date">Lundi 26 mai</h2>
          <div class="menu-section">
            <div class="menu-block">
              <h3>Déjeuner</h3>
              <ul class="menu-list">
                <li>
                  <img src="./assets/images/entrée.png" alt="" class="icon" />
                  <div>
                    <h4>Betteraves cuites et sa vinaigrette balsamique</h4>
                    <p class="allergenes">SULFITES</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/plat.png" alt="" class="icon" />
                  <div>
                    <h4>Lasagnes aux légumes</h4>
                    <p class="allergenes">
                      GLUTEN, LAIT (LACTOSE), MOUTARDE, ŒUF, SOJA
                    </p>
                  </div>
                </li>
                <li>
                  <img
                    src="./assets/images/produits laitiers.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Saint Paulin</h4>
                    <p class="allergenes">LAIT (LACTOSE)</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/dessert.png" alt="" class="icon" />
                  <div>
                    <h4>Compote de pommes fraise</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/pain.png" alt="" class="icon" />
                  <div>
                    <h4>Pain</h4>
                    <p class="allergenes">GLUTEN</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="menu-block">
              <h3>Goûter</h3>
              <ul class="menu-list">
                <li>
                  <img
                    src="./assets/images/patisseries.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Brioche tranchée au chocolat aux noisettes</h4>
                    <p class="allergenes">
                      FRUITS À COQUE, GLUTEN, LAIT (LACTOSE), ŒUF
                    </p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/fruit.png" alt="" class="icon" />
                  <div>
                    <h4>Pomme rouge bio</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="menu-date-section">
          <h2 class="date">Lundi 26 mai</h2>
          <div class="menu-section">
            <div class="menu-block">
              <h3>Déjeuner</h3>
              <ul class="menu-list">
                <li>
                  <img src="./assets/images/entrée.png" alt="" class="icon" />
                  <div>
                    <h4>Betteraves cuites et sa vinaigrette balsamique</h4>
                    <p class="allergenes">SULFITES</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/plat.png" alt="" class="icon" />
                  <div>
                    <h4>Lasagnes aux légumes</h4>
                    <p class="allergenes">
                      GLUTEN, LAIT (LACTOSE), MOUTARDE, ŒUF, SOJA
                    </p>
                  </div>
                </li>
                <li>
                  <img
                    src="./assets/images/produits laitiers.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Saint Paulin</h4>
                    <p class="allergenes">LAIT (LACTOSE)</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/dessert.png" alt="" class="icon" />
                  <div>
                    <h4>Compote de pommes fraise</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/pain.png" alt="" class="icon" />
                  <div>
                    <h4>Pain</h4>
                    <p class="allergenes">GLUTEN</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="menu-block">
              <h3>Goûter</h3>
              <ul class="menu-list">
                <li>
                  <img
                    src="./assets/images/patisseries.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Brioche tranchée au chocolat aux noisettes</h4>
                    <p class="allergenes">
                      FRUITS À COQUE, GLUTEN, LAIT (LACTOSE), ŒUF
                    </p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/fruit.png" alt="" class="icon" />
                  <div>
                    <h4>Pomme rouge bio</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="menu-date-section">
          <h2 class="date">Lundi 26 mai</h2>
          <div class="menu-section">
            <div class="menu-block">
              <h3>Déjeuner</h3>
              <ul class="menu-list">
                <li>
                  <img src="./assets/images/entrée.png" alt="" class="icon" />
                  <div>
                    <h4>Betteraves cuites et sa vinaigrette balsamique</h4>
                    <p class="allergenes">SULFITES</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/plat.png" alt="" class="icon" />
                  <div>
                    <h4>Lasagnes aux légumes</h4>
                    <p class="allergenes">
                      GLUTEN, LAIT (LACTOSE), MOUTARDE, ŒUF, SOJA
                    </p>
                  </div>
                </li>
                <li>
                  <img
                    src="./assets/images/produits laitiers.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Saint Paulin</h4>
                    <p class="allergenes">LAIT (LACTOSE)</p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/dessert.png" alt="" class="icon" />
                  <div>
                    <h4>Compote de pommes fraise</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/pain.png" alt="" class="icon" />
                  <div>
                    <h4>Pain</h4>
                    <p class="allergenes">GLUTEN</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="menu-block">
              <h3>Goûter</h3>
              <ul class="menu-list">
                <li>
                  <img
                    src="./assets/images/patisseries.png"
                    alt=""
                    class="icon"
                  />
                  <div>
                    <h4>Brioche tranchée au chocolat aux noisettes</h4>
                    <p class="allergenes">
                      FRUITS À COQUE, GLUTEN, LAIT (LACTOSE), ŒUF
                    </p>
                  </div>
                </li>
                <li>
                  <img src="./assets/images/fruit.png" alt="" class="icon" />
                  <div>
                    <h4>Pomme rouge bio</h4>
                    <p class="allergenes"></p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

        <script>
          const brailleMap = {
            a: "⠁",
            b: "⠃",
            c: "⠉",
            d: "⠙",
            e: "⠑",
            f: "⠋",
            g: "⠛",
            h: "⠓",
            i: "⠊",
            j: "⠚",
            k: "⠅",
            l: "⠇",
            m: "⠍",
            n: "⠝",
            o: "⠕",
            p: "⠏",
            q: "⠟",
            r: "⠗",
            s: "⠎",
            t: "⠞",
            u: "⠥",
            v: "⠧",
            w: "⠺",
            x: "⠭",
            y: "⠽",
            z: "⠵",
            " ": " ",
            ",": "⠂",
            ".": "⠲",
            ":": "⠒",
            ";": "⠆",
            "!": "⠖",
            "?": "⠦",
            "\n": "\n",
          };

          function textToBraille(text) {
            return text
              .toLowerCase()
              .split("")
              .map((c) => brailleMap[c] || "")
              .join("");
          }

          document
            .getElementById("download-menu")
            .addEventListener("click", function (e) {
              e.preventDefault();

              const menuElement = document.querySelector(".weekly-menu");

              const opt = {
                margin: 0.5,
                filename: "menu_semaine.pdf",
                image: { type: "jpeg", quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: {
                  unit: "in",
                  format: "letter",
                  orientation: "portrait",
                },
                pagebreak: { mode: ["avoid-all", "css", "legacy"] },
              };

              html2pdf()
                .set(opt)
                .from(menuElement)
                .save()
                .then(() => {
                  const brailleText = textToBraille(menuElement.innerText);
                  const blob = new Blob([brailleText], {
                    type: "text/plain;charset=utf-8",
                  });
                  const link = document.createElement("a");
                  link.href = URL.createObjectURL(blob);
                  link.download = "menu_semaine_braille.txt";
                  document.body.appendChild(link);
                  link.click();
                  document.body.removeChild(link);
                });
            });
        </script>
        <script src="./assets/js/script.js" defer></script>
      </section>
    </main>
  </body>
</html>
